{"componentChunkName":"component---src-pages-templates-post-tsx","path":"/blog/74245ea4-1b48-5e99-819b-619657fa1e52/","result":{"data":{"post":{"frontmatter":{"date":"02 дек. 2023","title":"Оптимизация создания журнала изменений с помощью Azure DevOps и Confluence","text":"В быстро меняющемся мире разработки программного обеспечения ведение подробного учета изменений имеет решающее значение. Журналы изменений служат жизненно важным инструментом, отслеживающим каждое обновление, исправление или функцию, добавленную в проект. Интеграция Azure DevOps с Confluence позволяет создать единую систему управления журналами изменений, повышающую прозрачность и эффективность. В этой статье мы поделимся опытом, как автоматизировать создание журнала изменений в Confluence с помощью сценария PowerShell, который извлекает информацию о выпуске из репозитория Azure DevOps.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFZklEQVR42h2Ue1CUVRjGv5p0d7/zfXtj2XWXZZfLAsvVCyCooOJd8S6OOV5CkjGkqbzVeI3ULB1GLW3U1EZNTbRCy0knKxVGU0wrLfIaaIB4q5xSFN39daY/3vnmO3PO7zzvc955FKseg0WLRqgJ9Iuax6yk/TgMw4jRB+PRxuMWM/EZluM1LqGTVkyUXIsWwwiapzIzsAu3mifP+7DoPmxaIopNS8OhdscigjhN+SzOOEYv2xKijWPwiYm41DKiOywnylCBS0zDr0/B23E8Y6PXMcG3mgRDIXYtAU040YULxaLFYROpRIosVGOQEVGreCP9OP4OpfLwcLk+ik7GGbhNJRI+FqdWQLyxmFdTDtLPspRelrclKF6WHbPqR3FKJZrqkNBkKTtZttiX8uA+eohKEg1z8BmXke+qJzviJF7TIhLEInpoKxjoWkySmIBftm9XM7AKH3ZjHoq/4+tEaN3wSs/8UkGEyCTTXM4oWxU93VUEIrYwzvuAoZ7bxBo30EevYaxjL+nmEmlTMkLYpKdDpD3DiDQNRumq7iROlFGStYcxsftxmSaRaVvKgmENFKQdJCV9G3n+S+Q666WibQy2HqGydwu5ljXEGsqJN02jt3UTnWRnMWo5Sr7lKLHS9Pl9T1Hx7kMGrbhBoOwaPRffJe2lFiKLf8b64jE6jD6DO1jFa/46KjKbSHtuPaNdR3k9u4me9u14DKX0sdah9LPWkmzcwTuDGvj6EOyrhw9PhGW1s/JIG5O3tjFicwuFG2/Tr/gKE/Jayc88T1Lwe54vaOHAjDD53m/oq//IcMcdlL7Wmv+Bqwc2cfkE3Hkc5u8H8M8jOPE7vPxpmJGbntB/7UMKKu+TtvAWzpmN6C9eJFD8K1+93Mbo+OsMsjaSZd6BkqMfJspUSq62ls8/aqdRwq60wuXbYequw5c//cW5q/f44UaYMw1POH31MaevPeXM9afUnm1j9Zib9LCdp7etjjT1XZR003Yitf7YlALWr2rkj4cSdjPE5dYw5yTwm4tP+f3mA67efMSllnZ+bnzIhaYw9behti5EjmsDScZPyLEcIlurRok3LsSud8H6TD7rNl3hLtD0b4gmqbRe/hy9FOb8jUf8+IdU1Rji5LUwp66F+KnpKXur75JlX0esOpsMsZNscRglWczCosYhHIm89kYNX3x2j6rdN9i5o4H9+9uokcBzDe380IiEwXcX4fjlELXn2zlw8DEDvFuwGrJIF7tkbUZJNS0ksmMvRIwTX6BEDvMREt1vkqJXMan/b9RK0IXmfznX/Ji65hDfN0PN1RDHL7TzRe0tomwDsKk9SNHWy+F+ASVSpJNqWkCqWoHXO5pgYBnB2Eq6+LcxMvUUhxc94dOlsG1JmG+XhXhv+i3mFp/llcmnKRq5CpvemWi1hM5iDZnaxygRajZOeUOO2EA30/v4DYtIM3xAtmEteR2rWeBvpST6PlM8f7IioZkx+jHyZGtBZRVRz5bhFc/TVWwlT91NklqKkiQWSKmT5UsPwauVkGDZSorlAFliGbmimnGe+0xNgCL5LXWdZbhrj3zNt+mtbZaqVsp8nEKcNl+Ci2TIRKB0khHl0QoJiPE4dBlN5kqClp2kiOlkmNYxxH2J8s73ZOL8Qo66VSp/k87GOXQ1LpY2zcZtLpTBWyhTqkgmTxGK3ZwpfcgjWRtFnDqQdGsFufbVxJqGEjDNY7jnLNOSWknUD8jBnU9QFNNTm8E463RipAin6I9PHSF9nIhDZKM49O6Y9Sy6iLFkGKbSK3Ij492H8BgHkqC+RVngATOSkIlUTYo6V15STKo2mYnaLLqZS/GIceTKffHSS5vWhf8Az3VTErlmA5gAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/b76f2ab05112bd14afd46d66f93eaa97/c7240/intro.png","srcSet":"/static/b76f2ab05112bd14afd46d66f93eaa97/de3a1/intro.png 150w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/30cdc/intro.png 300w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/c7240/intro.png 600w","sizes":"(min-width: 600px) 600px, 100vw"},"sources":[{"srcSet":"/static/b76f2ab05112bd14afd46d66f93eaa97/81307/intro.avif 150w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/aa5b9/intro.avif 300w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/0c8d0/intro.avif 600w","type":"image/avif","sizes":"(min-width: 600px) 600px, 100vw"},{"srcSet":"/static/b76f2ab05112bd14afd46d66f93eaa97/c65bc/intro.webp 150w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/078c3/intro.webp 300w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/6d09e/intro.webp 600w","type":"image/webp","sizes":"(min-width: 600px) 600px, 100vw"}]},"width":600,"height":600}}},"keywords":["devops","azure devops","confluence","changelog"],"canonicalUrl":""},"html":"<h2><strong>Оптимизация создания журнала изменений с помощью Azure DevOps и Confluence</strong></h2>\n<p>В быстро меняющемся мире разработки программного обеспечения ведение подробного учета изменений имеет решающее значение. Журналы изменений служат жизненно важным инструментом, отслеживающим каждое обновление, исправление или функцию, добавленную в проект. Интеграция Azure DevOps с Confluence позволяет создать единую систему управления журналами изменений, повышающую прозрачность и эффективность. В этой статье мы поделимся опытом, как автоматизировать создание журнала изменений в Confluence с помощью сценария PowerShell, который извлекает информацию о выпуске из репозитория Azure DevOps.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b76f2ab05112bd14afd46d66f93eaa97/302a4/intro.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFZklEQVR42h2Ue1CUVRjGv5p0d7/zfXtj2XWXZZfLAsvVCyCooOJd8S6OOV5CkjGkqbzVeI3ULB1GLW3U1EZNTbRCy0knKxVGU0wrLfIaaIB4q5xSFN39daY/3vnmO3PO7zzvc955FKseg0WLRqgJ9Iuax6yk/TgMw4jRB+PRxuMWM/EZluM1LqGTVkyUXIsWwwiapzIzsAu3mifP+7DoPmxaIopNS8OhdscigjhN+SzOOEYv2xKijWPwiYm41DKiOywnylCBS0zDr0/B23E8Y6PXMcG3mgRDIXYtAU040YULxaLFYROpRIosVGOQEVGreCP9OP4OpfLwcLk+ik7GGbhNJRI+FqdWQLyxmFdTDtLPspRelrclKF6WHbPqR3FKJZrqkNBkKTtZttiX8uA+eohKEg1z8BmXke+qJzviJF7TIhLEInpoKxjoWkySmIBftm9XM7AKH3ZjHoq/4+tEaN3wSs/8UkGEyCTTXM4oWxU93VUEIrYwzvuAoZ7bxBo30EevYaxjL+nmEmlTMkLYpKdDpD3DiDQNRumq7iROlFGStYcxsftxmSaRaVvKgmENFKQdJCV9G3n+S+Q666WibQy2HqGydwu5ljXEGsqJN02jt3UTnWRnMWo5Sr7lKLHS9Pl9T1Hx7kMGrbhBoOwaPRffJe2lFiKLf8b64jE6jD6DO1jFa/46KjKbSHtuPaNdR3k9u4me9u14DKX0sdah9LPWkmzcwTuDGvj6EOyrhw9PhGW1s/JIG5O3tjFicwuFG2/Tr/gKE/Jayc88T1Lwe54vaOHAjDD53m/oq//IcMcdlL7Wmv+Bqwc2cfkE3Hkc5u8H8M8jOPE7vPxpmJGbntB/7UMKKu+TtvAWzpmN6C9eJFD8K1+93Mbo+OsMsjaSZd6BkqMfJspUSq62ls8/aqdRwq60wuXbYequw5c//cW5q/f44UaYMw1POH31MaevPeXM9afUnm1j9Zib9LCdp7etjjT1XZR003Yitf7YlALWr2rkj4cSdjPE5dYw5yTwm4tP+f3mA67efMSllnZ+bnzIhaYw9behti5EjmsDScZPyLEcIlurRok3LsSud8H6TD7rNl3hLtD0b4gmqbRe/hy9FOb8jUf8+IdU1Rji5LUwp66F+KnpKXur75JlX0esOpsMsZNscRglWczCosYhHIm89kYNX3x2j6rdN9i5o4H9+9uokcBzDe380IiEwXcX4fjlELXn2zlw8DEDvFuwGrJIF7tkbUZJNS0ksmMvRIwTX6BEDvMREt1vkqJXMan/b9RK0IXmfznX/Ji65hDfN0PN1RDHL7TzRe0tomwDsKk9SNHWy+F+ASVSpJNqWkCqWoHXO5pgYBnB2Eq6+LcxMvUUhxc94dOlsG1JmG+XhXhv+i3mFp/llcmnKRq5CpvemWi1hM5iDZnaxygRajZOeUOO2EA30/v4DYtIM3xAtmEteR2rWeBvpST6PlM8f7IioZkx+jHyZGtBZRVRz5bhFc/TVWwlT91NklqKkiQWSKmT5UsPwauVkGDZSorlAFliGbmimnGe+0xNgCL5LXWdZbhrj3zNt+mtbZaqVsp8nEKcNl+Ci2TIRKB0khHl0QoJiPE4dBlN5kqClp2kiOlkmNYxxH2J8s73ZOL8Qo66VSp/k87GOXQ1LpY2zcZtLpTBWyhTqkgmTxGK3ZwpfcgjWRtFnDqQdGsFufbVxJqGEjDNY7jnLNOSWknUD8jBnU9QFNNTm8E463RipAin6I9PHSF9nIhDZKM49O6Y9Sy6iLFkGKbSK3Ij492H8BgHkqC+RVngATOSkIlUTYo6V15STKo2mYnaLLqZS/GIceTKffHSS5vWhf8Az3VTErlmA5gAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b76f2ab05112bd14afd46d66f93eaa97/09011/intro.avif 225w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/e46ac/intro.avif 450w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/9b8d4/intro.avif 900w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/d8ca6/intro.avif 1080w\"\n              sizes=\"(max-width: 900px) 100vw, 900px\"\n              type=\"image/avif\"\n            /><source\n              srcset=\"/static/b76f2ab05112bd14afd46d66f93eaa97/d7e55/intro.webp 225w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/8626f/intro.webp 450w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/131f1/intro.webp 900w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/260c2/intro.webp 1080w\"\n              sizes=\"(max-width: 900px) 100vw, 900px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b76f2ab05112bd14afd46d66f93eaa97/3684f/intro.png 225w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/fc2a6/intro.png 450w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/1cfc2/intro.png 900w,\n/static/b76f2ab05112bd14afd46d66f93eaa97/302a4/intro.png 1080w\"\n            sizes=\"(max-width: 900px) 100vw, 900px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b76f2ab05112bd14afd46d66f93eaa97/1cfc2/intro.png\"\n            alt=\"Self-Hosted build Agent for Azure Pipelines\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Self-Hosted build Agent for Azure Pipelines</figcaption>\n  </figure></p>\n<p>К концу прочтения этой статьи у вас будет готовый скрипт, который автоматизирует извлечение информации журнала изменений из последней и предыдущей версий репозитория с помощью команд Git. Затем он использует модуль ConfluencePS для создания новой страницы Confluence, отображающей журнал изменений. Мы также настроим запуск сценария в Azure Pipelines при определенных условиях, например при создании нового тега в репозитории.</p>\n<p>Давайте начнём!</p>\n<p><strong>Что нам необходимо?</strong></p>\n<ol>\n<li>Получить информацию о выпуске.</li>\n<li>Получить журнал изменений между предыдущей и последней версией.</li>\n<li>Создать страницу в Confluence.</li>\n<li>Интегрировать наш скрипт с конвейеромAzure.</li>\n</ol>\n<p>Начнем с подготовки Confluence к созданию новой папки журналов изменений.</p>\n<p><strong>Шаг 1. Создание родительской страницы:</strong></p>\n<ul>\n<li>Войдите в свою учетную запись Confluence.</li>\n<li>Перейдите в пространство, в котором вы хотите создать папку журналов изменений.</li>\n<li>Создайте новую страницу, которая будет служить родительской страницей для всех будущих страниц журналов изменений. Это можно сделать, выбрав «Создать» и следуя инструкциям по созданию страницы.</li>\n</ul>\n<p><strong>Шаг 2. Получение SpaceKey:</strong></p>\n<ul>\n<li>SpaceKey обычно отображается в URL-адресе, когда вы находитесь в пространстве Confluence.</li>\n<li>Если ключ не отображается в URL-адресе, его можно найти, перейдя в Инструменты пространства > Обзор > Сведения о пространстве.</li>\n</ul>\n<p><strong>Шаг 3: Получение идентификатора родительской страницы:</strong></p>\n<ul>\n<li>Идентификатор родительской страницы (ParentID) можно найти в URL-адресе, когда вы находитесь на родительской странице. В URL-адресе страницы посмотрите параметр pageId, это и будет ParentID.</li>\n</ul>\n<p><strong>Шаг 4. Ввод URL-адреса сайта Confluence:</strong></p>\n<ul>\n<li>URL-адрес вашего сайта Confluence — это адрес, который вы используете для входа в Confluence. Например, <a href=\"https://yourcompany.atlassian.net/wiki\">https://yourcompany.atlassian.net/wiki</a>.</li>\n</ul>\n<blockquote>\n<p>[<strong>⚠️ Внимание:</strong>] Убедитесь, что у вас есть соответствующие разрешения для создания и редактирования страниц в выбранном вами пространстве Confluence.</p>\n</blockquote>\n<p>Теперь у вас есть вся информация, необходимая для создания новых страниц журналов изменений с помощью скрипта. Приступим к нашему скрипту.</p>\n<p><strong>Шаг 5: Создание скрипта PowerShell</strong></p>\n<p>Создайте файл с подходящим названием в корне вашего репозитория, у нас будет confluence.ps1</p>\n<p>Сначала наш скрипт получает список изменений между этими версиями. (строки 1–11)</p>\n<p>Затем скрипт создает новую страницу Confluence, на которой отображается журнал изменений, используя модуль ConfluencePS, и передает его в переменную среды для нашего конвейера. (строки 13–33).</p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token keyword\">Param</span> <span class=\"token punctuation\">(</span><span class=\"token namespace\">[String]</span><span class=\"token variable\">$username</span><span class=\"token punctuation\">,</span> <span class=\"token namespace\">[String]</span><span class=\"token variable\">$password</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># Get username and password options from Azure Pipeline</span>\n<span class=\"token variable\">$repoPath</span> = <span class=\"token string\">\".\"</span> <span class=\"token comment\"># Set the repository path as the current directory</span>\n<span class=\"token variable\">$currentVersion</span> = git describe <span class=\"token operator\">--</span>abbrev=0 HEAD  <span class=\"token comment\"># Get the latest version of the repository using git</span>\n<span class=\"token comment\"># Write-Host $currentVersion</span>\n<span class=\"token variable\">$prevVersion</span> = git describe <span class=\"token operator\">--</span>abbrev=0 <span class=\"token variable\">$currentVersion</span>^  <span class=\"token comment\">#Get the previous version of the repository using git</span>\n<span class=\"token comment\"># Write-Host $prevVersion</span>\n<span class=\"token variable\">$changelog</span> = git log <span class=\"token operator\">--</span>no-merges <span class=\"token operator\">--</span>pretty=<span class=\"token string\">\"- %s&lt;br />\"</span> <span class=\"token string\">\"<span class=\"token variable\">$prevVersion</span>..<span class=\"token variable\">$currentVersion</span>\"</span>  <span class=\"token comment\">#Get the list of changes between the two versions using git</span>\n<span class=\"token comment\"># Write-Host $changelog</span>\n<span class=\"token comment\"># exit -0</span>\n<span class=\"token variable\">$confluenceUrl</span> = <span class=\"token string\">\"https://your.atlassian.net/wiki\"</span>  <span class=\"token comment\">#Set the Confluence URL</span>\n<span class=\"token variable\">$securePassword</span> = <span class=\"token variable\">$password</span> <span class=\"token punctuation\">|</span> <span class=\"token function\">ConvertTo-SecureString</span> <span class=\"token operator\">-</span>AsPlainText <span class=\"token operator\">-</span>Force <span class=\"token comment\">#Convert the password to a secure string</span>\n<span class=\"token variable\">$credentials</span> = <span class=\"token function\">New-Object</span> System<span class=\"token punctuation\">.</span>Management<span class=\"token punctuation\">.</span>Automation<span class=\"token punctuation\">.</span>PSCredential `\n     <span class=\"token operator\">-</span>ArgumentList <span class=\"token variable\">$username</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$securePassword</span>   <span class=\"token comment\">#Create a credential object for Confluence</span>\n<span class=\"token comment\">#Check if the module ConfluencePS is installed</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">-not</span> <span class=\"token punctuation\">(</span><span class=\"token function\">Get-Module</span> <span class=\"token operator\">-</span>Name ConfluencePS <span class=\"token operator\">-</span>ListAvailable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">Install-Module</span> <span class=\"token operator\">-</span>Name ConfluencePS <span class=\"token operator\">-</span>Scope CurrentUser <span class=\"token operator\">-</span>Force\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">Import-Module</span> ConfluencePS <span class=\"token comment\"># Import the module ConfluencePS</span>\n<span class=\"token function\">Set-ConfluenceInfo</span> <span class=\"token operator\">-</span>BaseURI <span class=\"token variable\">$confluenceUrl</span> <span class=\"token operator\">-</span>Credential <span class=\"token variable\">$credentials</span>   <span class=\"token comment\">#Set the information about Confluence using the URL and credentials</span>\n<span class=\"token variable\">$body</span> = @<span class=\"token string\">\"\n&lt;h2>What's new in comparison with version <span class=\"token variable\">$prevVersion</span>&lt;/h2>\n&lt;pre><span class=\"token variable\">$changelog</span>&lt;/pre>\n\"</span>@\n<span class=\"token variable\">$page</span> = <span class=\"token function\">New-ConfluencePage</span> <span class=\"token operator\">-</span>Title <span class=\"token string\">\"What's new in <span class=\"token variable\">$currentVersion</span>\"</span> <span class=\"token operator\">-</span>SpaceKey YOURSPACEKEY <span class=\"token operator\">-</span>ParentID YOUR_PARENT_ID <span class=\"token operator\">-</span>Body <span class=\"token variable\">$body</span>  <span class=\"token comment\">#Create a new Confluence page with the given title, space key and body</span>\n<span class=\"token variable\">$pageObj</span> = <span class=\"token function\">Get-ConfluencePage</span> <span class=\"token operator\">-</span>PageID <span class=\"token variable\">$page</span><span class=\"token punctuation\">.</span>ID     <span class=\"token comment\"># Get the Confluence page object by ID</span>\n<span class=\"token function\">Write-Output</span> <span class=\"token variable\">$pageObj</span><span class=\"token punctuation\">.</span>URL     <span class=\"token comment\">#Print the page URL to the screen</span>\n<span class=\"token function\">Write-Host</span> <span class=\"token string\">\"##vso[task.setvariable variable=confluenceUrl]<span class=\"token function\">$<span class=\"token punctuation\">(</span><span class=\"token variable\">$pageObj</span><span class=\"token punctuation\">.</span>URL<span class=\"token punctuation\">)</span></span>\"</span>    <span class=\"token comment\">#Set the variable confluenceUrl for Azure Pipeline using the page URL</span></code></pre></div>\n<blockquote>\n<p>[<strong>⚠️ Внимание:</strong>] Чтобы использовать этот скрипт, вам необходимо изменить следующее:\n$confluenceUrl на URL-адрес вашего сайта Confluence. (строка 13)<br>\nYOURSPACEKEY на ключ вашего пространства в Confluence. (строка 30)<br>\nYOUR_PARENT_ID в идентификаторе родительской страницы, на которой должна быть создана новая страница. (строка 30)<br></p>\n</blockquote>\n<ul>\n<li>Убедитесь, что Git установлен и доступен в вашем пути к скрипту.<br></li>\n<li>Убедитесь, что у вас есть права на создание страниц в указанном пространстве Confluence.<br></li>\n<li>Если вы не используете Azure Pipeline, удалите или измените строки, связанные с Write-Host, «##vso[task.setvariablevariable=confluenceUrl]$($pageObj.URL)», чтобы они соответствовали вашей среде выполнения.<br></li>\n</ul>\n<p>Вы также можете поэкспериментировать с телом страницы и списком данных, которые вы хотите отправить в журнал изменений.</p>\n<p><strong>Шаг 6. Интеграция с конвейерами Azure.</strong></p>\n<p>Задача предназначена для запуска в Azure Pipelines и запускается только при определенных условиях (condition), при создании нового тега в репозитории.\nПеременные <strong>$USERNAME</strong> и <strong>$PASSWORD</strong> хранятся в секретах конвейера и передаются во время запуска. Данная задача вызывает запуск нашего скрипта <em>.\\confluence.ps1.</em></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Azure Pipeline Task\n\n- task: PowerShell@2\n  condition: and(not(eq(variables['Build.Reason'], 'PullRequest')), BeginsWith(variables['Build.SourceBranch'], 'refs/tags/'))\n  displayName: Create a changelog and create a page in Confluence.\n  inputs:\n    file path: .\\confluence.ps1\n    arguments: '-username $(USERNAME) -password $(PASSWORD)'</code></pre></div>\n<p>Добавьте её в свой конвейер Azure.\nПоздравляю, у вас есть страница с журналом изменений!</p>\n<h2><strong>Заключение</strong></h2>\n<p>Автоматизация журналов изменений с помощью Azure DevOps и Confluence упрощает процесс документирования и поддерживает актуальность информации. Такой подход позволяет командам сосредоточиться на разработке, оставив рутинную работу по документированию изменений.</p>\n<p>Эта статья предоставляет общий обзор процесса интеграции и может служить отправной точкой для команд, стремящихся улучшить свои процессы управления изменениями. Надеемся, что было полезно.</p>\n<p><strong>Желаем отличного настроения и интересных задач!</strong></p>","wordCount":{"words":631}},"author":{"frontmatter":{"authorAlias":"Podryabinkina","author":"Алина Подрябинкина","authorPosition":"DevOps-инженер","authorPhoto":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFbElEQVR42lWSiVPSaRjHf2ur8Du4BDVFVBRFKwhQDm/EEvFC8wKtPKFMbb0qNa0pa7dZK9NJrbTNjMQDvEIRFfHWwANrdmd3/5p90cmZnXnmnWfeeT7P9zvf94W2F/S7llG71bi/ajxYnfq2teDcMn/fnt+xjD6oLlKIwqVcZgSdFhXKyI7nNWtVzo0vf35dPNqaP9qagwC5uzjqWAHw1MHqtHPDDPhdy8i9UuVlfog8MjQ2IlAli72RlawQc/wphOJM2dflib8cy86NY9i+NL5nNRzYDIerkwerM0ebpu62G1mSiDxZZHbshfay3L0ZnU3XP/b8YVNJbiCNXJGv+LY9v79ugoCsfWnMsQz4cefa9NHmnG1qUJMRXZAcVZoZXyIXfuho+LY6t2cet09/WtX1lytTRGzGl+GXdusUUNYD0mGd2FsxHK5NH26Y+h/VZonCSjLitXmyluIUq67/X/um0zqzM/NpTf/utzqNJDzgj87mLfMotLvkUgbk/orBuTm7bhquzU/KFIaVZcbdLpB21V93Wk1/79gOlyftJr1V1/dAoxYE+rxs0W6a9ZB9eQzI7ruUJ452TLqedrWMV5jAqVMladNFpZdiOirU62MDh4vG7anhhcGu2vw0Mcv3WZ162TgIOZbH9q1AFqQ9aV8xPL5VcCU6ouZKbEdlelO+vDontfeXsjX9W+OrDo1CWiJPSLwYrohiv2ouN+v7oOOoJlye16ct4723smIq04S3M4Rv60u+z4/vzY5sTw475sYG2xvVSTFyTiifFSAXsF61li8aBqBjzwbHysTB+sybjtrKVEGjKlGTxJ3vevSPbeFoaXbPNLpj/GR+37P45kV3vYbD9Eu5GNTdVmmb/eiyDZQP1qbWvwzdLUq+nRffmB9XIeOPP2u1fXxt072xDfWujQzMvP593zDce6cmzJemFLJeP9Cumj6DwPQgs4ONmeHnd7SpvKai5NocSZmUO9n31DLUszLQYxnsGrxf8/lpy0LvswwxP4xOzYtmPdTmbC2MQl8X9Y4Vw7pp6Nfq7KoMYZNaWqMUpZzz62mtso0OTNfVW+qahrTlEz2PmkquYB7unCCvVB6jMl2ybRmDdiyfwcce6my8o0poUCVWZYk0qXw+w7Mgjmse7t6d1c8+eaBrqbt/s/gc0+8c0zfcjyIO8UrjBS2AtMEnmf7Q+bAy/V7J5XpV4nXZhauy86yzZAGLUadKN77rmhvp06iVVALK8CLTKQQGBePQKZJgb+NgJwRyetFY3KrJvFsmv6UU54hDc+PYdCoRQzEYD3sSMLoXze0nNwqZSKeRfQgonUzww/Ayfph18j3U3aYtlIvz5ZLGq7LSyxcVAmZKZLA3lUQhe8Iw9rM7zu2MO4ygBAwlIngiHkcjIAFUQjIvuLk8G+KFh1xgBxelRTcUSvNjwrPELCHbD4ExIpEMw+hJ4fEIgqCgA2aoGMI86wky5wbQoOCggEuxgsbrqTVKSY4oNCeG7e9FxsMoihIQBDshf6yAQVFQ2IuE+VJJ/jQKFMmNuJaV0K7NqJALipM4SfwQnAslAPH/k64Gh0dJKOpFxKgkAoVIgERcdnWxvK0sRaOILFFE+Xp5euBgMHcMY/Cx+Al8XCgRw8LoNLq3J9OPBkl47LabGfeK4huuJvEjmO4eMHB7MgpgcOJwMM5l2HWDwCA4LJxOpdMoPp5kKDdF+KQqtfmaVCo+jz91iD+VcvVgC8AQmIgiRLD6fKA3iofdPfBQvTrhcXmCMoGDYkTwJMdSP7DTqI9JF4wS8HhMEOZPIxGAR6ilUFyWygv090UQEoaQwBwMCg8Mn6Z1kpyrUATzwCHcUEagD9XtjMd/4LIQtzGUCroAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/20f2a8d8398e868f0d50bd7fb356ffdb/c032f/author.jpg","srcSet":"/static/20f2a8d8398e868f0d50bd7fb356ffdb/1f64c/author.jpg 16w,\n/static/20f2a8d8398e868f0d50bd7fb356ffdb/af0fe/author.jpg 32w,\n/static/20f2a8d8398e868f0d50bd7fb356ffdb/c032f/author.jpg 64w,\n/static/20f2a8d8398e868f0d50bd7fb356ffdb/464e8/author.jpg 128w","sizes":"(min-width: 64px) 64px, 100vw"},"sources":[{"srcSet":"/static/20f2a8d8398e868f0d50bd7fb356ffdb/8cd5f/author.avif 16w,\n/static/20f2a8d8398e868f0d50bd7fb356ffdb/34a4f/author.avif 32w,\n/static/20f2a8d8398e868f0d50bd7fb356ffdb/d6ed5/author.avif 64w,\n/static/20f2a8d8398e868f0d50bd7fb356ffdb/8b866/author.avif 128w","type":"image/avif","sizes":"(min-width: 64px) 64px, 100vw"},{"srcSet":"/static/20f2a8d8398e868f0d50bd7fb356ffdb/94d43/author.webp 16w,\n/static/20f2a8d8398e868f0d50bd7fb356ffdb/6c901/author.webp 32w,\n/static/20f2a8d8398e868f0d50bd7fb356ffdb/aa76d/author.webp 64w,\n/static/20f2a8d8398e868f0d50bd7fb356ffdb/5e01a/author.webp 128w","type":"image/webp","sizes":"(min-width: 64px) 64px, 100vw"}]},"width":64,"height":80}}}}}},"pageContext":{"id":"74245ea4-1b48-5e99-819b-619657fa1e52","lang":"ru","markupData":{"bannerTitle":"ВЕРНЕМ БЛОГГИНГ В ТРЕНД","blogByAuthorBannerTitle":"Записи автора","blogByHashtagBannerTitle":"Записи, содержащие","head":"Блог CodeCave","readPostLink":"Читать дальше","readingTimeTitle":"на чтение","readingTimeUnits":"мин","postFooterTitle":"Поздравляем! Теперь ты можешь похвастаться новыми знаниями!","postFooterText":"Если тебе хотелось бы увидеть наш взгляд на какие-то еще широко неизвестные факты, с нами можно связаться в соцсетях или по имейлу. Увидимся!","sharePostTitle":"Поделиться","readMoreOnTopicTitle":"Найти еще по теме","blogSectionTitle":"новое в блоге","blogSectionLinkTitle":"перейти в блог","image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD1UlEQVR42pWUX0zTVxTHCwT501JKaWmBrsUV5N9gIixsuqgwlDCge7Hooli0yp9ZRR+0BdryxxU7oVCQgC3Kn1IMf0S3xLlMI2Mapw+a6JMGX9yMe3EPbvoimHw99xJJnIPpw82vub33ez7nnO89gqioKLzLkkqlkMvliI6O5r+XOid4FzEmFBkZiaCgIISFhSEiIoKLMvH3EnxNFRwcDI1GA4vFgry8PHyo1UIsFkMoFEImk71BvKQgOygSibiYXl+Ge/fu4+X8PC5f+hkOhwOmfSZkrc7ixOHh4Yu0gv+iYt+AgABotYnw+/2Ym5vDo0e/49zUJI47nejr7cXQ4BDcnW7UVNcgOzsbK1aEcGrBv6lYtNDQUOytrMTjx3/i+fNnuHv3DsbHx+AbHibRKTTa7XC1tWNsbAxdbjfG6Wsxm6GKVy0IMiGGHBgYiKysNbh48SeieoHZ2fu4dvVXDA0MwNXeDk9fH/wjI7h58wbOjI7CcsSMbncXBgdOw+v1ID09HQKWIqsD66KZojx58hf++fspZn6ZRmdHB4YHB9F+vA1ej4eo2jjZMUcrJscniK6LU/d0d6PJ3rggyCyQm5uLW7duY36eavXHQ/zw/Xn0e7041d/Pa+Y96eE0vmEfJicmUF1ZBVPNN+jt6eGp7qqoQN6GjdwJnDAjI4NHYh1sqKuDo+UoRkf8sFutOEkNsFlt2GUwoKW5mUjsGDh9Ctd/u4ZOlwtlej0+ycmBtb4BO7Zvh4DVLiQkBPFxcWhqbKRauehyBewNVkydPcvJeohk+so0Dpj2o+07J2ZmpvFgdhaObx3YuH49mumeTqdb6LJEIqHuxEOjVnPL6LdswYkT3TAfPgLDjnK0kud+vHAB9XX1VAIvX9VVVbyue4xGnhGzDXMGu79om5UJCUhOToaYapqelkYCdXAec2KvcQ8tI5ytrWhpaoKupBRRBJFDIpsKNkFNIEzsLWOLqcuMNjMjE6XFJRCSH4uKiqhuLZzyYG0t1n62Fh9RJ5kjNhcU4PN167hvme3eenrszUrooMGwE1/pSpFEr0ROB9UaNfabTCjcXEj12oBDtQfxRX4+PiVnlBQXLw6KNwTZBouUTw9/xOfj6bP91ZkfIykxkYgk2Fa2FUeJ1mazwWjcDZFQxJuw5LRh6SoUCqKSQ6P6AAlqDd9TqVT4eus2lJeXIzU1FV8WFiJOGcvT/t/xxQRer/jYOEpbC6VCSeWIgTJGgZSkVVDExCCS/pe+z4BlhxmBTBYNbcJKJCcmIS0lBbFKJQ+23AxddsCyywvCMkhYEE4mXVbwFQflxPovnsZUAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/b358397f973ed74732db29698c1773d1/30cdc/blog.png","srcSet":"/static/b358397f973ed74732db29698c1773d1/7458e/blog.png 75w,\n/static/b358397f973ed74732db29698c1773d1/de3a1/blog.png 150w,\n/static/b358397f973ed74732db29698c1773d1/30cdc/blog.png 300w","sizes":"(min-width: 300px) 300px, 100vw"},"sources":[{"srcSet":"/static/b358397f973ed74732db29698c1773d1/eb54c/blog.avif 75w,\n/static/b358397f973ed74732db29698c1773d1/81307/blog.avif 150w,\n/static/b358397f973ed74732db29698c1773d1/aa5b9/blog.avif 300w","type":"image/avif","sizes":"(min-width: 300px) 300px, 100vw"},{"srcSet":"/static/b358397f973ed74732db29698c1773d1/18188/blog.webp 75w,\n/static/b358397f973ed74732db29698c1773d1/c65bc/blog.webp 150w,\n/static/b358397f973ed74732db29698c1773d1/078c3/blog.webp 300w","type":"image/webp","sizes":"(min-width: 300px) 300px, 100vw"}]},"width":300,"height":300}}}},"site":{"siteUrl":"https://www.codecave.by","analytics":{"gtagId":"G-YJFKBG77X3","clarityId":"mrt5sma4ce"},"commentsSetup":{"repo":"CodeCavePro/www.codecave.by-new","repoId":"R_kgDOL8yrCw","categoryId":"DIC_kwDOL8yrC84CgqxP"}},"authorAlias":"Podryabinkina","authorId":"135463f9-a278-5f1c-89b4-def871c0c359"}},"staticQueryHashes":["1512817958","2595676272","639074693"],"slicesMap":{}}