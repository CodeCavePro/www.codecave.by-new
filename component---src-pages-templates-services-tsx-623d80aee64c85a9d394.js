"use strict";(self.webpackChunkcode_cave=self.webpackChunkcode_cave||[]).push([[417],{9153:function(e,t,n){n.r(t),n.d(t,{Head:function(){return T},default:function(){return P}});var a=n(7294),r=n(8032),i=n(4471),s=n.n(i),o=n(1929),l=n(1164),c=n(9165),u=n(3007),m=n(1312);var d=e=>{let{service:t,className:n}=e;const{html:r,frontmatter:{title:i,keywords:s,image:{publicURL:o}}}=t;return a.createElement("div",{className:`service-preview origin-[5%_50%] break-inside-avoid flex flex-col gap-5 p-8 text-secondary-100 cursor-pointer ${n}`,itemScope:!0,itemType:"https://schema.org/Service"},a.createElement("div",{className:"flex items-center gap-5"},a.createElement("img",{src:o,alt:`${i} logo`,className:"invert h-10 w-10"}),a.createElement("h2",{className:"font-bold text-2xl",itemProp:"serviceType"},i)),a.createElement("div",{className:"text-base text-secondary-70",dangerouslySetInnerHTML:{__html:r},itemProp:"description"}),s?a.createElement("div",{className:"flex gap-2 flex-wrap w-full"},s.map((e=>a.createElement("p",{key:e,className:"h-8 flex items-center whitespace-nowrap px-4 bg-main-70 text-secondary-70 rounded-lg"},e)))):null)};const f=e=>{let{service:t,className:n,...r}=e;const{frontmatter:{title:i,image:{publicURL:s}}}=t;return a.createElement("button",Object.assign({"aria-label":"view service",className:`flex gap-5 min-h-10 items-center ${n}`,type:"button"},r),a.createElement("div",{className:"py-1.5"},a.createElement("img",{src:s,alt:`${i} logo`,className:"invert h-7 w-7"})),a.createElement("h2",{className:"hidden lg:block font-semibold text-lg text-secondary-100 text-start",itemProp:"serviceType"},i))};function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v.apply(this,arguments)}function p(e,t){if(e.length!==t.length)throw new Error("vectors must be same length");return e.map((function(e,n){return e+t[n]}))}function h(e){return Math.max.apply(Math,e.map(Math.abs))}function g(e){return Object.freeze(e),Object.values(e).forEach((function(e){null===e||"object"!=typeof e||Object.isFrozen(e)||g(e)})),e}var x=[1,18,"undefined"!=typeof window&&window.innerHeight||800];var b=[-1,-1,-1];var E=function(e){return v({},e,{axisDelta:e.axisDelta.map((function(e){return t=e,n=-700,a=700,Math.min(Math.max(n,t),a);var t,n,a}))})},M=g({preventWheelAction:!0,reverseSign:[!0,!0,!1]}),w=400;function y(){return{isStarted:!1,isStartPublished:!1,isMomentum:!1,startTime:0,lastAbsDelta:1/0,axisMovement:[0,0,0],axisVelocity:[0,0,0],accelerationFactors:[],scrollPoints:[],scrollPointsToMerge:[],willEndTimeout:w}}var S=function(e){void 0===e&&(e={});var t,n,a,r=function(){var e={};function t(t,n){e[t]=(e[t]||[]).filter((function(e){return e!==n}))}return g({on:function(n,a){return e[n]=(e[n]||[]).concat(a),function(){return t(n,a)}},off:t,dispatch:function(t,n){t in e&&e[t].forEach((function(e){return e(n)}))}})}(),i=r.on,s=r.off,o=r.dispatch,l=M,c=y(),u=!1,m=function(e){Array.isArray(e)?e.forEach((function(e){return w(e)})):w(e)},d=function(e){return void 0===e&&(e={}),Object.values(e).some((function(e){return null==e}))?l:l=g(v({},M,l,e))},f=function(e){var a=v({event:t,isStart:!1,isEnding:!1,isMomentumCancel:!1,isMomentum:c.isMomentum,axisDelta:[0,0,0],axisVelocity:c.axisVelocity,axisMovement:c.axisMovement,get axisMovementProjection(){return p(a.axisMovement,a.axisVelocity.map((function(e){return void 0===t&&(t=.996),e*t/(1-t);var t})))}},e);o("wheel",v({},a,{previous:n})),n=a},w=function(e){var n,a,r,i,s=E(function(e,t){if(!t)return e;var n=!0===t?b:t.map((function(e){return e?-1:1}));return v({},e,{axisDelta:e.axisDelta.map((function(e,t){return e*n[t]}))})}((a=(n=e).deltaX*x[n.deltaMode],r=n.deltaY*x[n.deltaMode],i=(n.deltaZ||0)*x[n.deltaMode],{timeStamp:n.timeStamp,axisDelta:[a,r,i]}),l.reverseSign)),o=s.axisDelta,m=s.timeStamp,d=h(o);e.preventDefault&&function(e,t){var n=l.preventWheelAction,a=t[0],r=t[1],i=t[2];if("boolean"==typeof n)return n;switch(n){case"x":return Math.abs(a)>=e;case"y":return Math.abs(r)>=e;case"z":return Math.abs(i)>=e;default:return!1}}(d,o)&&e.preventDefault(),c.isStarted?c.isMomentum&&d>Math.max(2,2*c.lastAbsDelta)&&(j(!0),L()):L(),0===d&&Object.is&&Object.is(e.deltaX,-0)?u=!0:(t=e,c.axisMovement=p(c.axisMovement,o),c.lastAbsDelta=d,c.scrollPointsToMerge.push({axisDelta:o,timeStamp:m}),S(),f({axisDelta:o,isStart:!c.isStartPublished}),c.isStartPublished=!0,O())},S=function(){var e;2===c.scrollPointsToMerge.length?(c.scrollPoints.unshift({axisDeltaSum:c.scrollPointsToMerge.map((function(e){return e.axisDelta})).reduce(p),timeStamp:(e=c.scrollPointsToMerge.map((function(e){return e.timeStamp})),e.reduce((function(e,t){return e+t}))/e.length)}),D(),c.scrollPointsToMerge.length=0,c.scrollPoints.length=1,c.isMomentum||P()):c.isStartPublished||k()},k=function(){var e;c.axisVelocity=(e=c.scrollPointsToMerge,e[e.length-1]).axisDelta.map((function(e){return e/c.willEndTimeout}))},D=function(){var e=c.scrollPoints,t=e[0],n=e[1];if(n&&t){var a=t.timeStamp-n.timeStamp;if(!(a<=0)){var r=t.axisDeltaSum.map((function(e){return e/a})),i=r.map((function(e,t){return e/(c.axisVelocity[t]||1)}));c.axisVelocity=r,c.accelerationFactors.push(i),N(a)}}},N=function(e){var t=10*Math.ceil(e/10)*1.2;c.isMomentum||(t=Math.max(100,2*t)),c.willEndTimeout=Math.min(1e3,Math.round(t))},C=function(e){return 0===e||e<=.96&&e>=.6},P=function(){if(c.accelerationFactors.length>=5){if(u&&(u=!1,h(c.axisVelocity)>=.2))return void T();var e=c.accelerationFactors.slice(-5);e.every((function(e){var t=!!e.reduce((function(e,t){return e&&e<1&&e===t?1:0})),n=e.filter(C).length===e.length;return t||n}))&&T(),c.accelerationFactors=e}},T=function(){c.isMomentum=!0},L=function(){(c=y()).isStarted=!0,c.startTime=Date.now(),n=void 0,u=!1},O=function(){clearTimeout(a),a=setTimeout(j,c.willEndTimeout)},j=function(e){void 0===e&&(e=!1),c.isStarted&&(c.isMomentum&&e?f({isEnding:!0,isMomentumCancel:!0}):f({isEnding:!0}),c.isMomentum=!1,c.isStarted=!1)},A=function(e){var t=[],n=function(n){n.removeEventListener("wheel",e),t=t.filter((function(e){return e!==n}))};return g({observe:function(a){return a.addEventListener("wheel",e,{passive:!1}),t.push(a),function(){return n(a)}},unobserve:n,disconnect:function(){t.forEach(n)}})}(m),F=A.observe,V=A.unobserve,I=A.disconnect;return d(e),g({on:i,off:s,observe:F,unobserve:V,disconnect:I,feedWheel:m,updateOptions:d})},k={active:!0,breakpoints:{},wheelDraggingClass:"is-wheel-dragging",forceWheelAxis:void 0,target:void 0};N.globalOptions=void 0;var D=!1;function N(e){var t;void 0===e&&(e={});var n=function(){};return{name:"wheelGestures",options:e,init:function(a,r){var i,s,o=r.mergeOptions,l=r.optionsAtMedia,c=o(k,N.globalOptions),u=o(c,e);t=l(u);var m,d=a.internalEngine(),f=null!=(i=t.target)?i:a.containerNode().parentNode,v=null!=(s=t.forceWheelAxis)?s:d.options.axis,p=S({preventWheelAction:v,reverseSign:[!0,!0,!1]}),h=p.observe(f),g=p.on("wheel",(function(e){var a=e.axisDelta,r=a[0],i=a[1],s="x"===v?r:i,o="x"===v?i:r,l=e.isMomentum&&e.previous&&!e.previous.isMomentum,c=e.isEnding&&!e.isMomentum||l;Math.abs(s)>Math.abs(o)&&!x&&!e.isMomentum&&function(e){try{w(m=new MouseEvent("mousedown",e.event))}catch(a){return D&&console.warn("Legacy browser requires events-polyfill (https://github.com/xiel/embla-carousel-wheel-gestures#legacy-browsers)"),n()}x=!0,document.documentElement.addEventListener("mousemove",E,!0),document.documentElement.addEventListener("mouseup",E,!0),void document.documentElement.addEventListener("mousedown",E,!0),t.wheelDraggingClass&&f.classList.add(t.wheelDraggingClass)}(e);if(!x)return;c?function(e){x=!1,w(M("mouseup",e)),b(),t.wheelDraggingClass&&f.classList.remove(t.wheelDraggingClass)}(e):w(M("mousemove",e))})),x=!1;function b(){document.documentElement.removeEventListener("mousemove",E,!0),document.documentElement.removeEventListener("mouseup",E,!0),document.documentElement.removeEventListener("mousedown",E,!0)}function E(e){x&&e.isTrusted&&e.stopImmediatePropagation()}function M(e,t){var n,a;if(v===d.options.axis){var r=t.axisMovement;n=r[0],a=r[1]}else{var i=t.axisMovement;a=i[0],n=i[1]}if(!d.options.skipSnaps&&!d.options.dragFree){var s=d.containerRect.width,o=d.containerRect.height;n=n<0?Math.max(n,-s):Math.min(n,s),a=a<0?Math.max(a,-o):Math.min(a,o)}return new MouseEvent(e,{clientX:m.clientX+n,clientY:m.clientY+a,screenX:m.screenX+n,screenY:m.screenY+a,movementX:n,movementY:a,button:0,bubbles:!0,cancelable:!0,composed:!0})}function w(e){a.containerNode().dispatchEvent(e)}n=function(){h(),g(),b()}},destroy:function(){return n()}}}var C=e=>{let{services:t}=e;const[n,r]=(0,m.Z)({axis:"y",loop:!0,align:"center"},[N()]),i=(0,a.useRef)(0),s=(0,a.useRef)([]),{selectedIndex:o,onServiceButtonClick:l}=((e,t)=>{const{0:n,1:r}=(0,a.useState)(0),i=(0,a.useCallback)((n=>{e&&(e.scrollTo(n),t&&t(e))}),[e,t]),s=(0,a.useCallback)((e=>{r(e.selectedScrollSnap())}),[]);return(0,a.useEffect)((()=>{e&&(s(e),e.on("reInit",s).on("select",s))}),[e,s]),{selectedIndex:n,onServiceButtonClick:i}})(r),c=(0,a.useCallback)((e=>{s.current=e.slideNodes().map((e=>e.querySelector(".service-preview")))}),[]),u=(0,a.useCallback)((e=>{i.current=.2*e.scrollSnapList().length}),[]),v=(0,a.useCallback)(((e,t)=>{const n=e.internalEngine(),a=e.scrollProgress(),r=e.slidesInView(),o="scroll"===t;e.scrollSnapList().forEach(((e,t)=>{let l=e-a;n.slideRegistry[t].forEach((t=>{if(o&&!r.includes(t))return;n.options.loop&&n.slideLooper.loopPoints.forEach((n=>{const r=n.target();if(t===n.index&&0!==r){const t=Math.sign(r);-1===t&&(l=e-(1+a)),1===t&&(l=e+(1-a))}}));const c=1-Math.abs(l*i.current),u=(m=c,d=0,f=1,Math.min(Math.max(m,d),f));var m,d,f;s.current[t].style.transform=`scale(${u})`}))}))}),[]);return(0,a.useEffect)((()=>{r&&(c(r),u(r),v(r),r.on("reInit",c).on("reInit",u).on("reInit",v).on("scroll",v).on("slideFocus",v))}),[r,v]),a.createElement(a.Fragment,null,a.createElement("div",{className:"hidden sm:flex flex-col gap-5 p-8 lg:basis-[410px] shrink-0"},t?t.map(((e,t)=>a.createElement(f,{key:`dot-${e.id}`,service:e,onClick:()=>l(t),className:""+(t===o?"":"brightness-[0.4] hover:brightness-100")}))):null),a.createElement("div",{ref:n,className:"hidden sm:block overflow-hidden basis-full"},a.createElement("div",{style:{backfaceVisibility:"hidden"},className:"flex flex-col touch-pan-x h-[1000px] sm:h-[900px] md:h-[750px]"},t?t.map(((e,t)=>a.createElement("div",{key:e.id,onClick:()=>l(t),className:"grow-0 shrink-0 basis-1/3 min-h-0 select-none flex items-center"},a.createElement(d,{service:e,className:"select-none "+(t===o?"":"brightness-[0.4]")})))):null)))};var P=e=>{var t;let{data:n,pageContext:{markupData:i,lang:c}}=e;const m=null===(t=n.allMarkdownRemark)||void 0===t?void 0:t.nodes,f=(0,r.c)(i.image);return a.createElement(a.Fragment,null,a.createElement(o.Z,{heightClass:"lg:h-99",title:i.bannerTitle,image:f}),a.createElement("div",{className:"bg-main-100"},a.createElement(l.Z,{maxWidthClass:"max-w-[1280px]",className:"flex flex-col sm:flex-row items-start sm:justify-end py-6 sm:py-10 lg:!px-20 gap-0 sm:gap-5 lg:gap-[48px]"},m?a.createElement(C,{services:m}):null,m?m.map(((e,t)=>a.createElement(d,{key:e.id,service:e,className:"sm:hidden select-none"}))):null)),a.createElement(s(),{className:"w-full"}),a.createElement(u.Z,{lang:c}))};const T=e=>{let{pageContext:{markupData:t,site:n,lang:r},location:i}=e;return a.createElement(a.Fragment,null,a.createElement(c.Ag,{title:`${t.head} | ${t.bannerTitle.toUpperCase()}`,siteUrl:n.siteUrl,path:i.pathname,lang:r}))}}}]);
//# sourceMappingURL=component---src-pages-templates-services-tsx-623d80aee64c85a9d394.js.map